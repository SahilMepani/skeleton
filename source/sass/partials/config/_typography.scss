@use "sass:map";

$body-font-size: rem-calc(20);
$body-font-family: "Montserrat", system-ui, -apple-system, "Segoe UI", roboto,
	"Helvetica Neue", "Noto Sans", "Liberation Sans", arial, sans-serif,
	"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
$heading-font-family: inherit;
$paragraph-line-height: 1.5;
$paragraph-margin-bottom: rem-calc(32);
$heading-margin-bottom: rem-calc(32);
$headings: h1, h2, h3, h4, h5, h6;

// Typography styles.
$typography-styles: (
	h1: (
		font-family: $heading-font-family,
		font-size: fluid(44, 72),
		font-weight: 400,
		line-height: 1.066
	),
	h2: (
		font-family: $heading-font-family,
		font-size: fluid(36, 64),
		font-weight: 400,
		line-height: 1.1
	),
	h3: (
		font-family: $heading-font-family,
		font-size: fluid(32, 56),
		font-weight: 400,
		line-height: 1.14
	),
	h4: (
		font-family: $heading-font-family,
		font-size: fluid(24, 40),
		font-weight: 400,
		line-height: 1.2
	),
	h5: (
		font-family: $heading-font-family,
		font-size: fluid(20, 32),
		font-weight: 400,
		line-height: 1.25
	),
	h6: (
		font-family: $heading-font-family,
		font-size: fluid(16, 24),
		font-weight: 400,
		line-height: 1.3333
	),
	display-1: (
		font-family: $heading-font-family,
		font-size: fluid(72, 160),
		font-weight: 400,
		line-height: 1,
		letter-spacing: rem-calc(-0.4)
	),
	display-2: (
		font-family: $heading-font-family,
		font-size: fluid(60, 120),
		font-weight: 400,
		line-height: 1,
		letter-spacing: rem-calc(-0.4)
	),
	display-3: (
		font-family: $heading-font-family,
		font-size: fluid(40, 80),
		font-weight: 400,
		line-height: 1,
		letter-spacing: rem-calc(-0.4)
	)
);

// Default text styles
@mixin text($size) {
	font-size: map.get(
		(
			small: fluid(15, 17),
			medium: fluid(17, 20)
		),
		$size
	);
	font-weight: 400;
	line-height: $paragraph-line-height;

	p {
		font-size: inherit;
		line-height: inherit;

		&:not(:last-child) {
			margin-bottom: $paragraph-margin-bottom;
		}
	}
}

// Fonts
@mixin font($name) {
	@if $typography-styles and map.has-key($typography-styles, $name) {
		@each $prop, $value in map.get($typography-styles, $name) {
			#{$prop}: #{$value};
		}
	}
}

@if $typography-styles {
	@each $style, $_value in $typography-styles {
		.#{$style} {
			@include font($style);
		}
	}
}

@each $heading in $headings {
	#{$heading} {
		@include font($heading);

		color: $heading-color;

		&:not(:last-child) {
			margin-bottom: $heading-margin-bottom;
		}
	}
}
