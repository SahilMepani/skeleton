.header__nav {
	ul {
		@include list--unstyled;
	}
	li {
		margin-bottom: 0;
	}
	a {
		text-decoration: none;
		display: block;
		height: 100%;
	}
	@include breakpoint( $lg ) {
	  float: right;
	}
}

.header__nav-toggle {
	@include breakpoint( $md_max ) {
		background: red;
		color: #fff;
		text-decoration: none;
		float: right;
		display: block;
		padding: 14px 15px 14px 50px;
		border: none;
		position: relative;
		&:before {
			content: $i_menu;
			font-size: 24px;
			position: absolute;
			left: 15px; // same as padding right
			top: 50%;
			@include translateY(-50%);
			@include transition(.2s ease-out);
		}
	}
	@include breakpoint( $lg ) {
		display: none;
	}
}

.header__nav-close {
	@include breakpoint( $md_max ) {
	  background: none;
		text-decoration: none;
		border: none;
		padding: 10px;
		position: absolute;
		right: 0;
		top: 0;
		&:before {
			content: $i_cross;
			color: #000;
			font-size: 24px;
		}
		&:hover, &:active {
			background-color: #fff;
			&:before {
				color: red;
			}
		}
	}
	@include breakpoint( $lg ) {
		display: none;
	}
}

/*==============================
=            Mobile            =
==============================*/
$mobile_sidebar_bg_color: #ddd;
/*----------  Parent Menu  ----------*/
$mobile_parent_menu_item_border_bottom: 1px solid rgba(0,0,0,.1);
$mobile_parent_menu_link_bg_color: transparent;
$mobile_parent_menu_link_color: #000;
$mobile_parent_menu_link_hover_bg_color: rgba(0,0,0,.1);
$mobile_parent_menu_link_hover_color: #000;
$mobile_parent_menu_item_padding_y: 13px;
$mobile_parent_menu_item_padding_x: 20px;
$mobile_parent_menu_current_item_link_bg_color: $brand_color_primary;
$mobile_parent_menu_current_item_link_color: #fff;
$mobile_parent_menu_dropdown_bg_color: #fff;
$mobile_parent_menu_dropdown_icon_color: #000;
$mobile_parent_menu_dropdown_hover_bg_color: #fff;
$mobile_parent_menu_dropdown_hover_icon_color: red;
/* Sub Menu */
$mobile_sub_menu_font_size: 1rem;
$mobile_sub_menu_bg_color: #fff;
$mobile_sub_menu_link_bg_color: transparent;
$mobile_sub_menu_link_hover_bg_color: rgba(0,0,0,.05);
$mobile_sub_menu_link_color: #666;
$mobile_sub_menu_link_hover_color: #000;
$mobile_sub_menu_link_padding_y: 13px;
$mobile_sub_menu_link_padding_x: $mobile_parent_menu_item_padding_x; //usually this is same as parent menu

.header__nav {
	@include breakpoint( $md_max ) {
		background-color: $mobile_sidebar_bg_color;
		width: 100%;
		padding: 50px 0 40px;
		position: fixed;
		top: 0;
		right: 0;
		bottom: 0;
		z-index: 99;
		overflow: auto;
		@include translateX(100%);
		@include transition( 350ms transform cubic-bezier(0.465, 0.183, 0.153, 0.946) );
		&.js-active {
			@include translateX(0);
			@include box-shadow( 0 0 10px rgba(120,120,120,.3));
		}
		ul {
			list-style: none;
			margin: 0;
		}
		li {
			margin-bottom: 0;
		}
	}
}

.header__nav__parent-menu {
	@include breakpoint( $md_max ) {
	  > li {
			border-bottom: $mobile_parent_menu_item_border_bottom;
			> a {
				background-color: $mobile_parent_menu_link_bg_color;
				color: $mobile_parent_menu_link_color;
				font-size: 14px;
				font-weight: 700;
				letter-spacing: 2px;
				display: block;
				padding: $mobile_parent_menu_item_padding_y $mobile_parent_menu_item_padding_x;
				text-transform: uppercase;
				text-decoration: none;
				&:hover {
					background: $mobile_parent_menu_link_hover_bg_color;
					color: $mobile_parent_menu_link_hover_color;
				}
			}
		}
		> li.current-page-ancestor > a, > li.current-menu-parent > a, > li.current-menu-item > a {
			background: $mobile_parent_menu_current_item_link_bg_color;
			color: $mobile_parent_menu_current_item_link_color;
		}
		> li.menu-item-has-children {
			position: relative;
			&:hover, &:focus {
				> a {

				}
			}
		}
		.menu-item-has-children {
			> a {
				position: relative;
				span {
					background: $mobile_parent_menu_dropdown_bg_color;
					width: 45px;
					position: absolute;
					top: 0;
					right: 0;
					bottom: 0;
					&:after {
						content: '';
						border: 8px solid transparent;
						border-left-width: 6px;
						border-right-width: 6px;
						border-top-color: $mobile_parent_menu_dropdown_icon_color;
						position: absolute;
						top: 50%;
						left: 50%;
						margin-top: -4px;
						margin-left: -6px;
					}
					&:hover {
						background: $mobile_parent_menu_dropdown_hover_bg_color;
						&:after {
							border-top-color: $mobile_parent_menu_dropdown_hover_icon_color;
						}
					}
				}
			}
		}
	}
}

.header__nav .sub-menu {
	@include breakpoint( $md_max ) {
	  background: $mobile_sub_menu_bg_color;
	  height: 0;
	  visibility: hidden;
	  &.js-active {
	  	height: auto;
	  	visibility: visible;
	  }
		> li {
			> a {
				background-color: $mobile_sub_menu_link_bg_color;
				color: $mobile_sub_menu_link_color;
				font-size: 14px;
				font-weight: 700;
				letter-spacing: 1px;
				text-transform: uppercase;
				display: block;
				padding: $mobile_sub_menu_link_padding_y $mobile_sub_menu_link_padding_x $mobile_sub_menu_link_padding_y ($mobile_sub_menu_link_padding_x + 15px);
				text-decoration: none;
				&:hover, &:focus {
					background: $mobile_sub_menu_link_hover_bg_color;
					color: $mobile_sub_menu_link_hover_color;
				}
			}
		}
	}
}

/*===============================
=            Desktop            =
===============================*/
/*----------  Parent Menu  ----------*/
$desktop_parent_menu_link_bg_color: #eee;
$desktop_parent_menu_link_color: #000;
$desktop_parent_menu_link_hover_bg_color: #ddd;
$desktop_parent_menu_link_hover_color: #000;
$desktop_parent_menu_item_padding_y: 15px;
$desktop_parent_menu_item_padding_x: 20px;
$desktop_parent_menu_current_item_link_bg_color: $brand_color_primary;
$desktop_parent_menu_current_item_link_color: #fff;
$desktop_parent_menu_dropdown_icon_color: #999;
$desktop_parent_menu_dropdown_icon_border: 5px;
$desktop_parent_menu_space_between_text_and_arrow: 10px;
/*----------  Sub Menu  ----------*/
$desktop_sub_menu_width: 300px;
$desktop_sub_menu_link_bg_color: #ddd;
$desktop_sub_menu_link_color: #333;
$desktop_sub_menu_link_hover_bg_color: #ccc;
$desktop_sub_menu_link_hover_color: $desktop_sub_menu_link_color; //if this is changed there is some transition bug
$desktop_sub_menu_current_item_link_bg_color: #ccc;
$desktop_sub_menu_current_item_link_color: transparent; //if this is changed there is some transition bug
$desktop_sub_menu_font_size: $base_font_size;
$desktop_sub_menu_link_padding_y: 8px;
$desktop_sub_menu_link_padding_x: $desktop_parent_menu_item_padding_x; //usually this is same as parent menu
$desktop_sub_menu_link_height: 36px; //req for animation, manually calculate usually font height(not size) + padding-top and bottom.

.header__nav__parent-menu {
	@include breakpoint( $lg ) {
	  > li {
			float: left;
			margin-right: 5px;
			> a {
				background-color: $desktop_parent_menu_link_bg_color;
				color: $desktop_parent_menu_link_color;
				display: block;
				padding: $desktop_parent_menu_item_padding_y $desktop_parent_menu_item_padding_x;
				&:hover, &:focus {
					background-color: $desktop_parent_menu_link_hover_bg_color;
					color: $desktop_parent_menu_link_hover_color;
				}
			}
		}
		> li.current-page-ancestor > a, > li.current-menu-parent > a, > li.current-menu-item > a {
			background-color: $desktop_parent_menu_current_item_link_bg_color;
			color: $desktop_parent_menu_current_item_link_color;
		}
		> li.menu-item-has-children {
			position: relative;
			> a {
				padding-right: $desktop_parent_menu_item_padding_y + $desktop_parent_menu_dropdown_icon_border + $desktop_parent_menu_dropdown_icon_border + $desktop_parent_menu_space_between_text_and_arrow; //dropdown icon
				&:after {
					content: '';
					border: $desktop_parent_menu_dropdown_icon_border solid transparent;
					border-top-color: $desktop_parent_menu_dropdown_icon_color;
					position: absolute;
					top: 50%;
					right: $desktop_parent_menu_item_padding_y;
					margin-top: -2px;
				}
			}
			&:hover, &:focus {
				> a {
					color: $desktop_parent_menu_link_hover_color;
				}
				.sub-menu {
					> li {
						> a {
							visibility: visible;
							color: $desktop_sub_menu_link_color;
							height: $desktop_sub_menu_link_height;
							padding-top: $desktop_sub_menu_link_padding_y;
							padding-bottom: $desktop_sub_menu_link_padding_y;
							&:hover, &:focus {
								background-color: $desktop_sub_menu_link_hover_bg_color;
								color: $desktop_sub_menu_link_hover_color;
							}
						}
					}
				}
			}
		}
	}
}

.header__nav .sub-menu {
	@include breakpoint( $lg ) {
	  width: $desktop_sub_menu_width;
		position: absolute;
		top: 100%;
		left: 0;
		z-index: 99;
		> li {
			line-height: 1.3;
			> a {
				visibility: hidden;
				background-color: $desktop_sub_menu_link_bg_color;
				color: transparent;
				display: block;
				height: 0;
				padding: 0 $desktop_sub_menu_link_padding_x;
			}
		}
		> li.current-menu-item > a {
			background-color: $desktop_sub_menu_current_item_link_bg_color;
			color: $desktop_sub_menu_current_item_link_color;
		}
	}
}