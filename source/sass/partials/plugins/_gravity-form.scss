// Learn more at http://www.rocketgenius.com/gravity-forms-css-targeting-specific-elements/

$gf_margin_bottom: 40px;
$gf_description_color: #999;
$gf_label_font_size: 14px;
$gf_description_font_size: 16px;

%gf-label {
	text-transform: uppercase;
	font-size: $gf_label_font_size;
	letter-spacing: 2px;
	font-weight: 700;
	display: block;
	margin-bottom: 10px;
	//required field indicator (span)
	.gfield_required {
		color: red;
		padding: 0 3px;
	}
}

//contains the entire Gravity Form
.gform_wrapper {

}

//contains the form title and description (div)
.gform_heading {
	margin-bottom: 15px;
}

.gform_title { //h3

}

.gform_description { //span

}

//contains the main form content
.gform_body {
	//unordered list used to structure all of the form elements (ul)
	.gform_fields {
		@include list-unstyled;
	}
	//individual list items containing each form element (li)
	.gfield {
		margin-bottom: $gf_margin_bottom;
		ul {
			margin-top: 0;
		}
		//wraps the actual form element inside the containing list item (div)
		.ginput_container {

		}
		//contains the field description inside the containing list item (div)
		.gfield_description {
			color: $gf_description_color;
			font-style: italic;
			font-size: $gf_description_font_size;
		}
		&.field_description_above {
			.gfield_description {
				margin-top: -10px; //compensate label bottom margin
				margin-bottom: 10px;
			}
		}
		&.field_description_below {
			.gfield_description {
				// margin-top: 5px;
			}
		}
		//standard field label (label)
		.gfield_label {
			@extend %gf-label;
		}
		//wraps the sub-fields in fields like the name, address, etc. (div)
		.ginput_complex {
			//input container
			span {
				display: inline-block;
				margin-right: 10px;
				margin-bottom: 5px;
			}
			//sub labels
			label {
				color: $gf_description_color;
				font-size: $gf_label_font_size;
				display: block;
			}
		}
		&.field_sublabel_above {
			.ginput_complex {
				label {
					margin-bottom: 2px;
				}
				//if any field has sublable the dropdown gets shifted below because its using top: 50%; and sublable is included in the height.
				span {
					&:after {
						margin-top: 12px;
					}
				}
			}
		}
		&.field_sublabel_below {
			.ginput_complex {
				label {
					margin: 2px 0 6px;
				}
				//if any field has sublable the dropdown gets shifted below because its using top: 50%; and sublable is included in the height.
				span {
					&:after {
						margin-top: -12px;
					}
				}
			}
		}
		.gf_clear {
			clear: both;
		}
	}
	//instructions and char limit used on numbers and single text
	.instruction, .ginput_counter {
		font-size: $gf_description_font_size;
		color: $gf_description_color;
		margin-top: 2px;
	}
	.wp-editor-container .ginput_counter {
		padding: 5px 10px;
	}
}

/*===============================
=            Section            =
===============================*/
.gfield.gsection {
	margin-top: 50px;
	padding-top: 40px;
	border-top: 1px solid rgba($secondary,.2);
	margin-bottom: 50px;
	&:first-child {
		border-top: none;
		padding-top: 0;
		margin-top: 0;
	}
}

.gsection_title {
	padding-bottom: 15px;
	margin-bottom: 0;
	position: relative;
	&:before {
		content: '';
		background-color: $primary;
		width: 45px;
		height: 5px;
		position: absolute;
		left: 0;
		bottom: 0;
	}
}

.gsection_description {
	margin-top: 15px;
}


/*============================
=            Name            =
============================*/
.name_prefix_select {
	//select wrapper
	@include custom-select-block;
}

/*========================================
=            Radio & Checkbox            =
========================================*/
.gfield_checkbox, .gfield_radio {
	overflow: hidden;
	> li {
		margin-bottom: 10px;
		&:last-child {
			margin-bottom: 0;
		}
	}
}

.gfield_radio {
	input[type="text"] { // other input
		min-width: auto;
	}
}


/*=============================
=            Radio            =
=============================*/
.gform_wrapper {
	.ginput_container_radio {
		//other choice
		input[type="text"] {
			padding-top: 10px; //same as padding for gf-list-enhanced
			padding-bottom: 10px; //same as padding for gf-list-enhanced
		}
		//radio
		input[type="radio"][value="gf_other_choice"] {
			position: absolute;
			height: 0;
			width: 0;
		}
		label {
			margin-left: 5px;
		}
	}
}


/*==============================
=            Select            =
==============================*/
.ginput_container_select {
	@include custom-select-block;
	select {
		width: 100%; //important make the dropdown icon sit inside the select
	}
  .gf-enhanced-select & { // add this class in gravity form
    &:after {
      display: none;
    }
  }
}


/*====================================
=            Multi Select            =
====================================*/
.ginput_container_multiselect {
	select {
		padding: 0;
	}
	option {
		padding: 10px $input_padding_y_xs;
	}
	@include breakpoint( $md ) {
		option {
			padding: 10px $input_padding_y_md;
		}
	}
}


/*=======================================
=            Enhanced Select            =
=======================================*/
.gform_wrapper {
	position: relative;
	//contain the selected value
	.chosen-single {
		padding: $input_padding_y_xs $input_padding_x_xs;
		//selected value
		> span {
			color: #aaa;
			// margin-right: 50px; enable this if below dropdown icon is displayed.
		}
		//contain the dropdown icon
		div {
			display: none; //avoid double dropdown icons. First one is called standard select.
			width: 50px;
			//dropdown icon
			b {
				position: absolute;
				top: 50%;
				left: 50%;
				margin-top: 5px;
				margin-left: -5px;
				&:before {
					content: '';
					border: 7px solid transparent;
					border-top-color: $secondary;
				}
			}
		}
		@include breakpoint( $md ) {
			padding: $input_padding_y_md $input_padding_x_md;
		}
	}
	.chosen-container-active {
		.chosen-single {
			border-color: rgba(150, 150, 150, 0.7);
			> span {
				color: #444;
			}
		}
	}
	//contains the entire dropdown
	.chosen-drop {
		background-color: #fafafa;
		min-width: $input_min_width;
		border: 1px solid rgba(150, 150, 150, 0.7);
		border-top: none;
		margin-top: -1px;
		.chosen-results {
			max-height: 190px;
			padding: 4px;
			li {
				line-height: 1.2;
				padding: 10px 10px 11px;
				&.highlighted, &:hover {
					background-color: #ececec;
				}
			}
		}
	}
	.chosen-search {
		padding: 8px 5px;
		margin: 0;
		position: relative;
		&:after {
			@include font-icon( $i_search, 21px, $secondary );
			right: 15px;
			margin-top: -10px;
		}
		input {
			width: 100%;
			min-width: auto; //overwrite default min-width
			padding: 10px 35px 10px 10px;
			border: $input_focus_border;
		}
	}
	@include media-breakpoint-down( md ) {
		 //iOS fix, chosen plugin not used by default
	 	&:after {
			@include icon-font-properties;
			content: $i_dropdown;
			font-size: 18px;
			display: block;
			position: absolute;
			right: 15px;
			top: 50%;
			z-index: 1;
			@include translateY(-50%);
		}
		.chosen-select {
			font-size: 16px;
			letter-spacing: 1px;
			padding-left: 15px;
			border: $input_border_width solid $input_border_color;
			padding-right: 15px;
			max-width: 100%;
			width: 100%;
			text-transform: capitalize;
		}
	}
} //gfrom-wrapper

.gform_wrapper {
	.chosen-container {
		text-align: left;
		position: relative;
	}
	.chosen-with-drop {
		.chosen-drop {
			display: block;
		}
	}
	//contain the selected value (a)
	.chosen-single {
		@include input-text;
		text-decoration: none;
		white-space: nowrap;
		display: block;
		width: 100%;
		margin: 0;
		position: relative;
		cursor: pointer;
		//select value
		span {
			display: block;
			text-overflow: ellipsis;
			white-space: nowrap;
		}
		//contain the dropdown icon
		div {
			height: 100%;
			position: absolute;
			top: 0;
			right: 0;
		}
	}
	//contains the entire dropdown
	.chosen-drop {
		display: none;
		position: absolute;
		width: 100%;
		top: 100%;
		left: 0;
		z-index: 99;
		.chosen-search {
			white-space: nowrap;
			position: relative;
			&:after {
				position: absolute;
				top: 50%;
			}
			input {
				outline: 0 none;
			}
		}
		.chosen-results {
			margin: 0;
			overflow-x: hidden;
			overflow-y: auto;
			position: relative;
			.active-result {
				cursor: pointer;
			}
			li {
				list-style: none;
				margin: 0;
				// &:first-child {
				//   display: none;
				// }
			}
		}
	}
}


/*=============================================
=            Enhanced Multi Select            =
=============================================*/
.gform_wrapper {
	.chosen-choices {
		//input container (li)
		.search-field {
			margin-bottom: 0;
			position: relative;
			//dropdown icon
			&:before {
				@include font-icon( $i_search, 24px, $secondary );
				display: block;
				position: absolute;
				right: 10px;
				top: 50%;
				z-index: 10;
				@include translateY(-50%);
			}
			input {
				width: 100% !important; //overwrite inline style
			}
		}
		//selected values (li)
		.search-choice {
			background-color: #f5f5f5;
			padding: 10px $input_padding_y_xs;
			border: 1px solid #e8e8e8;
			margin-bottom: 5px;
			position: relative;
			@include breakpoint( $md ) {
				padding: 10px $input_padding_y_md;
			}
		}
		//deselect values
		.search-choice-close {
			display: block;
			width: 20px;
			height: 20px;
			text-align: center;
			position: absolute;
			top: 50%;
			right: 10px;
			cursor: pointer;
			@include translateY(-50%);
			&:hover {
				text-decoration: none;
				&:after {
					color: red;
				}
			}
			&:after {
				@include icon-font-properties;
				content: $i_cross;
				color: $secondary;
				font-size: 20px;
				line-height: 20px;
				position: relative;
				top: -2px;
			}
		}
	}
}


/*===================================
=            Date & Time            =
===================================*/
.gform_wrapper {
	.clear-multi { //this is date and time
		@include clearfix;
		//contain label and input
		> .ginput_container {
			float: left;
			margin-right: 10px;
		}
		//HH-MM
		label {
			color: #999;
			font-size: $gf_label_font_size;
		}
		input[type="text"], input[type="number"] {
			min-width: auto; //overwrite default
			width: 100px;
		}
		select {
			min-width: auto; //overwrite default
			width: auto;
		}
	}
}


/*==================================
=            DatePicker            =
==================================*/
//entire datepicker
.ui-datepicker {
	display: none; //required
}

//calendar icon
.ui-datepicker-trigger {
	margin-left: -30px;
}

//Custom Calendar Icon
.ginput_container_date {
	position: relative;
	input[type="text"] {
		width: 100%; //so the icon stays on top of it
	}
	&:before {
		@include icon-font-properties;
		content: $i_calendar;
		color: $secondary;
		position: absolute;
		right: 15px;
		top: 50%;
		@include translateY(-50%);
	}
}

//contain entire calendar
.ui-datepicker {
	background-color: #fff;
	padding: 5px;
	border: 1px solid rgba($secondary,.2);
}

.ui-datepicker-header {
	//next & prev
	> a {
		display: none;
	}
	//months & years
	select {
		width: 49%;
		min-width: auto;
		border-color: #ccc;
		padding: 10px 12px;
		margin: 0 0 5px 0;
	}
	.ui-datepicker-month {
		margin-right: 2%;
	}
}

table.ui-datepicker-calendar {
	background: #fff;
	tr:nth-child(even) {
		background-color: #f5f5f5;
	}
	th, td {
		border: 1px solid #e5e5e5;
		padding: 0;
	}
	//days
	thead {
		background-color: #ccc;
		th {
			font-weight: 700;
			font-size: 14px;
			padding: 12px;
		}
	}
	//dates
	tbody td {
		a {
			color: $secondary;
			text-align: center;
			display: block;
			padding: 12px;
			cursor: pointer;
			&:hover {
				background-color: $primary;
				color: #fff;
				text-decoration: none;
			}
		}
		&.ui-datepicker-today {
			a {
				background-color: $primary;
				color: #fff;
			}
		}
	}
}


/*===============================
=            Address            =
===============================*/
.gform_wrapper {
	.ginput_complex .address_country {
		@include custom-select-block;
	}
}

@include breakpoint( $md ) {
	.gf-address-col-2, .gf-address-col-3 {
		//contain all the input & label
		.ginput_complex {
			margin-left: -10px;
			margin-right: -10px;
			.address_country {
				//dropdown icon
				&:after {
					right: 25px;
				}
			}
			//contain single input & label
			span {
				float: left;
				padding: 0 10px;
				margin-right: 0 !important; //overwrite standard
			}
			input, select {
				width: 100%;
			}
		}
	}
	//2 col
	.gf-address-col-2 {
		.ginput_complex span {
			width: 50%;
		}
	}
	//3 col
	.gf-address-col-3 {
		.ginput_complex span {
			width: 33.333333%;
		}
	}
}


/*==========  File Upload  ==========*/
// .gf-upload {
// 	margin-top: 15px;
// 	.gfield_label {
// 		text-align: center;
// 		margin-bottom: 8px;
// 	}
// }

input[type="file"] {
	width: auto;
}

.ginput_container_fileupload {
	//single upload, multi uploads
	input[type="file"], .gform_button_select_files {
		@include btn;
		@include btn-md;
		border: $input_border_width solid $input_border_color;
	}
	//multiselect
	input[type="file"] {
		text-transform: uppercase;
	}
	//uploaded files
	& + div .ginput_preview { //single file container
		padding: 7px 0;
		//cancel file
		.gform_delete {
			display: inline-block;
			margin-right: 3px;
		}
		//file name
		strong {

		}
	}
	//allowed file types
	[id^="extensions_message"] {
    display: block;
    color: $gf_description_color;
    font-size: $root_font_size - 2px;
    margin: 5px 0 0;
  }
	//rejected files
	.validation_message {
    background-color: transparent;
    padding: 0;
    margin-bottom: 10px;
    ul {
      margin: 0;
    }
    li {
      background-color: red;
      padding: 10px;
      margin: 2px;
      // border-bottom: 1px solid #888;
    }
  }
}

.gform_drop_area {
	display: inline-block;
	@include input-text;
	input[type="button"] {
		@include btn;
		@include btn-secondary;
		@include btn-md;
	}
}

.gform_drop_instructions {
	color: #aaa;
	display: block;
	margin-bottom: 10px;
}
/*==========  End of File Upload  ==========*/

/*==========  List  ==========*/
table.gfield_list {
	.gfield_list_cell {
		padding-left: 0;
		&:first-child {
			// padding-top: 0;
		}
	}
	th {
		text-transform: uppercase;
		font-size: 14px;
		letter-spacing: 2px;
		font-weight: 700;
		padding-left: 0;
	}
}
/*==========  List  ==========*/


/*=====================================
=            Submit & Save            =
=====================================*/
//contains the submit button and admin edit link
.gform_footer {
	clear: both;
	position: relative;
	padding-top: 50px;
	input[type="submit"] {
		@include btn;
		@include btn-primary;
		@include btn-md;
		&:hover {
			background-color: $secondary;
			color: #fff;
		}
	}
	//continue and save
	.gform_save_link {
		@include btn;
		@include btn-secondary;
		@include btn-md;
		margin-left: 20px;
		&:hover, &:active {
			background: $secondary;
			color: #fff;
		}
	}
}


/*=================================================
=            Confirmation & Validation            =
=================================================*/
.gforms_confirmation_message {
	@extend .alert;
	@extend .alert-success;
	text-align: center;
	line-height: 1.4;
}

//combined validation error
.validation_error {
	@extend .alert;
	@extend .alert-info;
	text-align: center;
	line-height: 1.4;
}

//description/error message below inputs with invalid values
.validation_message {
	//all important are overwrite to .gfield_description
	background-color: red;
	color: #fff !important;
	font-style: normal !important;
	font-size: 14px !important;
	clear: both;
	display: inline-block;
	padding: 3px 5px;
	margin-top: 0 !important;
	margin-bottom: 5px;
	position: relative;
	top: 5px;
}

//displays on same page upon successful completion of the form
.gform_confirmation_message {
	@extend .alert;
	@extend .alert-success;
	text-align: center;
	line-height: 1.4;
	&:last-child {
		margin-bottom: 0;
	}
}

.gfield.gform_hidden {
	margin-bottom: 0 !important;
}

//form submission loading
.gform_ajax_spinner {
	margin-left: 10px;
}


/*======================================
=            Custom Classes            =
======================================*/
//wraps the section break elements inside the containing list item
.gfield_html {
	&.gf-divider {
		margin-top: 60px;
		border-top: 1px solid rgba($secondary,.2);
		margin-bottom: 50px;
	}
}

.gf-full-width { //add to field
	input, textarea, select, .gform_drop_area, table { //table for list field
		width: 100%;
	}
}

.gform-full-width { //add to form
	input[type="text"], input[type="number"], input[type="file"], input[type="tel"], input[type="url"], select, textarea, .gform_drop_area, .gfield_list {
		width: 100%;
	}
	.gfield_list {
		.gfield_list_cell {
			width: 75%;
		}
		.gfield_list_icons {
			width: 25%;
		}
	}
}

/*=============================================
=            Custom Checkbox/Radio            =
=============================================*/
/*----------  Inline  ----------*/
@include breakpoint( $md ) {
  .gfield.gf-list-inline {
		.gfield_checkbox, .gfield_radio {
			> li {
				float: left;
				margin-right: 15px !important;
				&:last-child {
					margin-right: 0 !important;
				}
			}
		}
	}
}

/* Two Colums */
@include breakpoint( $md ) {
  .gfield.gf-list-inline-2 {
		.gfield_checkbox, .gfield_radio {
			margin: 0 -15px;
			> li {
				float: left;
				width: 50%;
				padding: 0 15px;
				&:nth-child(2n+1) {
					clear: both;
				}
			}
		}
	}
}

/*----------  Covered  ----------*/
.gfield.gf-list-enhanced {
	@include breakpoint( $md ) {
	  &.gf-list-inline-2 {
			.gfield_checkbox, .gfield_radio {
				label {
					&:before {
						left: 15px;
					}
				}
			}
		}
	}
	.gfield_checkbox, .gfield_radio {
		> li {
			position: relative;
			margin-bottom: 0;
		}
		label {
			// background-color: #f9f9f9;
			line-height: 1.3;
			display: inline-block;
			padding: 10px 15px 10px 30px;
			margin-bottom: 0;
			margin-left: 0; //overwrite standard above
			&:before {
				@include icon-font-properties;
				font-size: 21px;
				position: absolute;
				left: 0;
				top: 50%;
				@include translateY(-50%);
			}
		}
		input[type="radio"], input[type="checkbox"] {
			display: none;
			// position: absolute;
			// left: 10px;
			// top: 50%;
			// margin-top: -7px;
			&:checked {
				+ label {
					// background-color: $secondary;
					// color: #fff;
				}
			}
		}
	}
}

/*----------  List Fullwidth  ----------*/
.gfield.gf-list-full-width {
	.gfield_checkbox, .gfield_radio {
		label {
			display: block;
			margin-left: 0; //overwrite standard above
		}
		//other choice
		input[type="text"] {
			width: 100%;
		}
	}
}


/*=======================================
=            Custom Checkbox            =
=======================================*/
.gfield.gf-list-enhanced {
	.gfield_checkbox {
		label {
			&:before {
				content: $i_checkbox;
			}
		}
		input[type="checkbox"] {
			&:checked {
				+ label {
					&:before {
						content: $i_checkbox_checked;
					}
				}
			}
		}
	}
}


/*====================================
=            Custom Radio            =
====================================*/
.gfield.gf-list-enhanced {
	.gfield_radio {
		label {
			&:before {
				content: $i_radio;
			}
		}
		input[type="radio"] {
			&:checked {
				+ label {
					&:before {
						content: $i_radio_checked;
					}
				}
			}
		}
	}
}

.gfield.gf-list-enhanced:not([class*="gf-list-inline"]) {
	//other choice
	input[type="text"] {
		margin-top: 10px;
	}
}


/*=============================================
=            Custom Rows & Columns            =
=============================================*/
.gform_body {
	.gf-row {
		padding: 0; //overwrite gfield_html
		ul {
			@include list-unstyled;
			@include clearfix;
			margin-top: 0;
		}
		input[type="text"], textarea, select {
			width: 100%;
		}
		.gfield_html {
			display: none;
		}
		// Breakpoint
		@include media-breakpoint-down( xs ) {
			.gfield.gf-col-2, .gfield.gf-col-3 { // gfield required specificity
				&:nth-last-child(2) {
					margin-bottom: 0;
				}
			}
		}
		@include breakpoint( $md ) {
			margin-left: -10px;
			margin-right: -10px;
			.gfield.gf-col-2, .gfield.gf-col-3 { // gfield required specificity
				float: left;
				padding: 0 10px;
				margin-bottom: 0;
			}
			.gfield.gf-col-2 {
				width: 50%;
			}
			.gfield.gf-col-3 { // gfield required specificity
				width: 33.333333%;
			}
		}
	}
	.gf-block-row {
		@include list-unstyled;
		@include clearfix;
		margin-top: 0;
		.gf-block-col-2 {
			.gfield_html {
				display: none;
			}
		}
		input, textarea, select {
			width: 100%;
		}
		.gfield_html {
			margin-bottom: 0;
		}
		@include breakpoint( $md ) {
			margin-left: -15px;
			margin-right: -15px;
		  .gf-block-col-2 {
		  	float: left;
		  	width: 50%;
		  	padding: 0 15px;
		  }
		}
	}
}


.gform_body {
	.gfield.gf-label-hide .gfield_label,
	.gfield.gf-sublabel-hide .ginput_complex label, //labels in multi-field sections like the name fields, address fields, etc
	.gfield.gf-sublabel-hide .ginput_container_date label, //MM,DD,YYYY
	.gfield.gf-sublabel-hide .ginput_container_time label { //HH,MM,AM
		visibility: hidden;
		opacity: 0;
		font-size: 0;
		height: 0;
		margin-bottom: 0;
	}
	.gfield.gf-label-transparent .gfield_label {
		visibility: hidden;
		opacity: 0;
	}
	// .gfield.gf-label-dummy {
	// 	@extend %gf-label;
	// 	.gf-description {
	// 		display: block;
	// 		color: $gf_description_color;
	// 		font-style: italic;
	// 		font-size: $gf_description_font_size;
	// 		text-transform: initial;
	// 		font-weight: 400;
	// 		letter-spacing: normal;
	// 	}
	// }
	.gfield.gf-search-hide {
		.chosen-search {
			display: none !important;
		}
	}
	@include breakpoint( $md ) {
		.gfield.gf-label-inline {
			@include display-flex;
			@include align-items( center );
			.gfield_label {
				margin-right: 20px;
				margin-bottom: 0;
			}
			.gfield_description {
				margin-left: 10px;
				margin-bottom: 0;
			}
		}
	}
}

//Honey pot validation
.gfield.gform_validation_container {
	 display: none !important;
}

//Placeholder form - Enhanced Select
.gplaceholder .gform_body .gfield .gfield_label {
	display: none;
}

//Display label on placeholder form, useful for attachments
.gf-display-label .gfield_label {
	display: block !important;
}

//form saved confirmation
// .form_saved_message {
//   text-align: center;
//   p {
//     margin-bottom: 15px;
//   }
//   .link-block {
//     margin-bottom: 30px;
//     a {
//       background-color: #ffffd9;
//       border: 1px solid darken( #ffffd9, 47% );
//       color: $secondary;
//       display: block;
//       padding: 15px;
//       line-height: 1.5;
//       margin: 0 0 5px;
//       &:hover {
//         background-color: darken( #ffffd9, 15% );
//       }
//     }
//     .expiry {
//       color: $primary;
//     }
//   }
//   .email-block {
//     form {
//       position: relative;
//       margin: 0 auto;
//     }
//     input[type="text"] {
//       background-color: #fff;
//       width: 100%;
//       padding: 22px 15px;
//       margin-bottom: 10px;
//     }
//     input[type="submit"] {
//       @include btn;
//       @include btn-md;
//       @include btn-primary;
//       width: 100%;
//       &:hover, &:active {
//         background: $secondary;
//         color: #fff;
//       }
//     }
//   }
//   @include breakpoint( $min_480 ) {
//     .email-block {
//       input[type="text"] {
//         width: 270px;
//         border-right: none !important;
//         margin: -4px 0 0 -5px;
//       }
//       input[type="submit"] {
//         width: auto;
//       }
//     }
//   }
// }